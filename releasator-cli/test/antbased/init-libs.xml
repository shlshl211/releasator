<?xml version="1.0"?>
<project name="releasator-init-libs"
         xmlns="antlib:org.apache.tools.ant"
         xmlns:antcontrib="antlib:net.sf.antcontrib"
         xmlns:artifact="urn:maven-artifact-ant"
>
    <mkdir dir="${user.home}/.m2/lib"/>
    <property name="maven-ant-tasks.version" value="2.1.3"/>
    <copy file="${user.home}/.m2/repository/org/apache/maven/maven-ant-tasks/${maven-ant-tasks.version}/maven-ant-tasks-${maven-ant-tasks.version}.jar"
         tofile="${user.home}/.m2/lib/maven-ant-tasks-${maven-ant-tasks.version}.jar"/>
    <typedef classpath="${user.home}/.m2/lib/maven-ant-tasks-${maven-ant-tasks.version}.jar" resource="org/apache/maven/artifact/ant/antlib.xml" uri="urn:maven-artifact-ant"/>
    <property name="my.settings.xml" value="${user.home}/.m2/settings.xml"/>

    <artifact:dependencies pathId="antcontrib.classpath" settingsFile="${my.settings.xml}">
        <artifact:dependency groupId="ant-contrib" artifactId="ant-contrib" version="1.0b3"/>
    </artifact:dependencies>
    <taskdef resource="net/sf/antcontrib/antlib.xml" classpathref="antcontrib.classpath" uri="antlib:net.sf.antcontrib"/>
</project>